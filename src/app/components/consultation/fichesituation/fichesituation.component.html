

<div class="flex flex-column md:flex-row md:justify-content-between md:align-items-center">
    <div style="font-size: 20px;">
        <span *ngIf="situation.validation==1" class="p-2" style="background: #B2FE94;"> Validé</span>
        <span *ngIf="situation.validation==2" class="p-2" style="background: #FA9091;">Rejété</span>
        <span *ngIf="situation.validation==0" class="p-2" style="background: #fad890;">En Attente</span>
        <span *ngIf="situation.validation==3" class="p-2" style="background: #457fca;">Bloqué</span>
    </div>
    <button pButton pRipple type="button" icon="pi pi-print" class="mr-2 mb-2" (click)="imprimersituation()"></button>
</div>
     <div class="grid p-fluid " >
                    <div class="col-12 md:col-3 p-2">
                        <img src="assets/images/profil.jpeg" />
                    </div>
                    <div class="col-12 md:col-5 p-2">
                        <div class=" p-fluid">
                            <div class="field grid">
                                <label htmlFor="name3" class="col-12 mb-2 md:col-4 md:mb-0">Matricule:</label>
                                <div class="col-12 md:col-8">
                                    {{ identification.matricule }}
                                </div>
                            </div>
                            <div class="field grid">
                                <label htmlFor="email3" class="col-12 mb-2 md:col-4 md:mb-0">Nom:</label>
                                <div class="col-12 md:col-8">
                                    {{ identification.nom }}
                                    {{ identification.postnom }}
                                    {{ identification.prenom }}
                                </div>
                            </div>
                            <div class="field grid">
                                <label htmlFor="name3" class="col-12 mb-2 md:col-4 md:mb-0">Genre:</label>
                                <div class="col-12 md:col-8">
                                    {{ identification.genre }}
                                </div>
                            </div>
                            <div class="field grid">
                                <label htmlFor="email3" class="col-12 mb-2 md:col-4 md:mb-0">Date de naissance:</label>
                                <div class="col-12 md:col-8">
                                    {{identification.datenaiss| date : "dd/MM/yyyy"}}
                                </div>
                            </div>
                            <div class="field grid">
                                <label htmlFor="email3" class="col-12 mb-2 md:col-4 md:mb-0">Lieu de naissance :</label>
                                <div class="col-12 md:col-8">
                                    {{identification.lieunaiss}}
                                </div>
                            </div>
                            <div class="field grid">
                                <label htmlFor="name3" class="col-12 mb-2 md:col-4 md:mb-0">Date d'Engagement:</label>
                                <div class="col-12 md:col-8">
                                    {{identification.dateengagement|date:"dd/MM/yyyy"}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 md:col-4 p-2">
                        <div class=" p-fluid">
                            <div class="field grid">
                                <label htmlFor="name3" class="col-12 mb-2 md:col-3 md:mb-0">Section :</label>
                                <div class="col-12 md:col-9">
                                    {{ situation.nomsection }}
                                </div>
                            </div>
                            <div class="field grid">
                                <label htmlFor="email3" class="col-12 mb-2 md:col-3 md:mb-0">Province :</label>
                                <div class="col-12 md:col-9">
                                    {{ situation.nomprovince }}
                                </div>
                            </div>
                            <div class="field grid">
                                <label htmlFor="name3" class="col-12 mb-2 md:col-3 md:mb-0"> Entité :</label>
                                <div class="col-12 md:col-9">
                                    {{ situation.nomentite }}
                                </div>
                            </div>
                            <div class="field grid">
                                <label htmlFor="email3" class="col-12 mb-2 md:col-3 md:mb-0"> Banque :</label>
                                <div class="col-12 md:col-9">
                                    {{situation.nombanque}}
                                </div>
                            </div>
                            <div class="field grid">
                                <label htmlFor="email3" class="col-12 mb-2 md:col-3 md:mb-0">Unité :</label>
                                <div class="col-12 md:col-9">
                                    {{ situation.nomunite }}
                                </div>
                            </div>
                            <div class="field grid">
                                <label htmlFor="email3" class="col-12 mb-2 md:col-3 md:mb-0">Fonction :</label>
                                <div class="col-12 md:col-9">
                                    {{ situation.nomfonction }}
                                </div>
                            </div>
                            <div class="field grid">
                                <label htmlFor="email3" class="col-12 mb-2 md:col-3 md:mb-0">Position :</label>
                                <div class="col-12 md:col-9 text-info" style="font-weight: bold;color: #457fca;">
                                    {{ situation.nomposition }}
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
    <br>
    <p-table #dt [value]="detailbarem" *ngIf="detailbarem.length!=0">
        <ng-template pTemplate="caption">
            <div class="flex flex-column md:flex-row md:justify-content-between md:align-items-center">
                <div>
                    <span class="block md:mt-0 p-input-icon-left">
                       <h3> {{situation.libelle}}</h3>
                    </span>
                </div>
            </div>
        </ng-template>
        <ng-template pTemplate="header">
            <tr>
                <th pSortableColumn="deetatnomination" style="width:80%;">Intitulé <p-sortIcon field="denomination"></p-sortIcon></th>
                <th pSortableColumn="rccmassu" style="width: 10%;">Sigle<p-sortIcon field="rccmassu"></p-sortIcon></th>
                <th pSortableColumn="rccmassu" style="width: 10%;">Montant<p-sortIcon field="rccmassu"></p-sortIcon></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-item>
            <tr>
                <td style="width:80%; min-width:10rem;" >
                <span class="p-column-title">Barème</span>
                <a style="cursor: pointer;"(click)="fonctionclick(item)">{{item.intitule}}</a>
                </td>
                <td style="width:10%; min-width:10rem;" >
                    <a style="cursor: pointer;">{{item.sigle}}</a>
                    </td>
                <td style="width:10%; min-width:10rem;" >
                    <a style="cursor: pointer;">{{item.montant}}</a>
                    </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="footer">
         <tr>
             <td style="width:80%; min-width:10rem;" colspan="2" >
                 total
             </td>
             <td style="width:10%; min-width:10rem;" >
                 <a style="cursor: pointer;">{{situation.montant}}</a>
                 </td>
         </tr>
     </ng-template>
    </p-table>
    <div class="d-flex justify-content-center mt-3" *ngIf="detailbarem.length!=0">
        <p-paginator
        (onPageChange)="onPageChange($event)"
        [first]="page"
        [rows]="size"
        [totalRecords]="count"
        [showFirstLastIcon]="true"
        [showCurrentPageReport]="true"
        currentPageReportTemplate="{{page+1}} - {{size}} sur {{count}}"

        [rowsPerPageOptions]="[10, 20, 30,50]" />
     </div>
    <div class="mt-1">
        <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text" (click)="effacer()"></button>
    </div>
